---
layout: default
title: 改変方法
parent: Menno
nav_order: 2
permalink: /menno/customization/
---

# Menno - 改変方法

このページでは、Mennoアバターの改変方法について説明します。テクスチャの変更、新しい衣装の追加、アニメーションの変更など、さまざまなカスタマイズが可能です。

## テクスチャの改変

### 1. テクスチャファイルの場所

Mennoの主要なテクスチャファイルは以下の場所に保存されています：

```
Assets/emudotto/Menno/Materials/Tex_Main/
```

### 2. テクスチャの編集

1. テクスチャファイルをPhotoshopなどの画像編集ソフトで開く
2. 必要な編集を行い、同じ解像度で保存
3. Unityプロジェクトに戻ると、変更が自動的に反映されます


## マテリアルの改変

### 1. マテリアルの場所

Mennoのマテリアルは以下の場所に保存されています：

```
Assets/emudotto/Menno/Materials/
```

### 2. マテリアルの編集

1. プロジェクトウィンドウ、またはヒエラルキーのオブジェクト選択でマテリアルファイルを選択
2. インスペクタウィンドウで[Liltoonマテリアルのパラメータを調整](https://lilxyzw.github.io/lilToon/ja_JP/first.html)


## 衣装の追加

### 1. 新しい衣装の作成

1. 3Dモデリングソフトで新しい衣装モデルを作成
2. FBXとしてエクスポート
3. Unityにインポート

### 2. ModularAvatarを使った衣装の追加

Modular Avatarを使用すると、新しい衣装を簡単にMennoアバターに追加できます。

#### 2.1 簡単な衣装のセットアップ

1. 新しい衣装モデルをシーンに配置し、Mennoアバターと同じ階層に置きます
2. 衣装オブジェクトを右クリックし、`[ModularAvatar] Setup Outfit`を選択します
   - Modular Avatarが自動的に衣装のアーマチュアを検出し、Merge Armatureコンポーネントを追加します
3. これで衣装が自動的にMennoアバターのボーンに追従するようになります
4. 衣装オブジェクトをON/OFFすることで、衣装全体の表示・非表示を切り替えられます

#### 2.2 ブレンドシェイプの同期設定

衣装のブレンドシェイプをMennoアバターと同期させたい場合：

1. 衣装のメッシュオブジェクトを選択
2. Add ComponentからMA Blendshape Syncコンポーネントを追加
3. 「+」ボタンをクリックしてブレンドシェイプの同期設定を開く
4. Mennoアバターのメッシュから同期したいブレンドシェイプを選択
5. 必要に応じて、衣装側のブレンドシェイプ名を「このメッシュのブレンドシェープ」欄に指定

#### 2.3 手動でのより詳細な設定

より複雑な衣装や特殊な設定が必要な場合は、以下の手順で手動設定も可能です：

1. 衣装オブジェクトにModular Avatar Merge Armatureコンポーネントを追加
2. 「アバター」欄にMennoアバターのルートオブジェクトをアサイン
3. 「ボーンのマッピング」セクションで、衣装のボーンとアバターのボーンのマッピングを設定
4. 必要に応じてModular Avatar Merge Animatorコンポーネントを追加し、アニメーションコントローラーを設定

#### 2.4 衣装のトグル設定

Expression Menuから衣装を切り替えられるようにするには：

1. 衣装オブジェクトを選択
2. Add ComponentからMA Toggle Objectコンポーネントを追加
3. 「デフォルト状態」を設定（オンまたはオフ）
4. 「メニュー項目名」に表示したい名前を入力
5. 必要に応じて、アイコンやメニュー階層を設定

これらの設定が完了すると、Mennoアバターに新しい衣装が適切に追加され、Expression Menuから切り替えられるようになります。

## アニメーションの変更

### 1. アニメーションファイルの場所

Mennoのアニメーションファイルは以下の場所に保存されています：

```
Assets/emudotto/Menno/Animation/
```

### 2. アニメーションの編集

1. プロジェクトウィンドウでアニメーションファイルを選択
2. Animation Windowを開く
3. キーフレームを追加・編集
4. 変更を保存

## 表情の追加

### 1. ブレンドシェイプの使用

1. シーンでMennoアバターを選択
2. Bodyメッシュのスキンメッシュレンダラーを選択
3. インスペクタのBlend Shapesセクションで表情を調整
4. Animationウィンドウで調整した表情をキーフレームとして記録

## VRChatへのアップロード

改変後のアバターをVRChatにアップロードする際は、以下の点に注意してください：

1. パフォーマンスランクへの影響を確認
2. アバターの制約（高さなど）を確認
3. アニメーションの動作を確認
4. テスト環境でボーンの動きなどを確認

## 注意事項

* 大幅な改変を行う場合は、元のファイルのバックアップを作成してください
* テクスチャやマテリアルの改変は比較的簡単ですが、メッシュの変更はより高度な知識が必要です
* アップロード後に問題がある場合は、元のファイルに戻すか、部分的に修正することをおすすめします 

## カスタマイズ時の注意点

- マテリアルやテクスチャを変更する時は、バックアップすることをおすすめします。